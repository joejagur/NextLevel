{"ast":null,"code":"import { animate, state, style, transition, trigger } from '@angular/animations';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/game.service\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/table\";\nimport * as i6 from \"@angular/material/icon\";\nfunction GamesComponent_h5_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h5\");\n    i0.ɵɵtext(1, \" Loading Content\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GamesComponent_div_7_ng_container_1_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", column_r10, \" \");\n  }\n}\nfunction GamesComponent_div_7_ng_container_1_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const game_r14 = ctx.$implicit;\n    const column_r10 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", game_r14[column_r10], \" \");\n  }\n}\nfunction GamesComponent_div_7_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0, 13);\n    i0.ɵɵtemplate(1, GamesComponent_div_7_ng_container_1_th_1_Template, 2, 1, \"th\", 14);\n    i0.ɵɵtemplate(2, GamesComponent_div_7_ng_container_1_td_2_Template, 2, 1, \"td\", 8);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const column_r10 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"matColumnDef\", column_r10);\n  }\n}\nfunction GamesComponent_div_7_th_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 17);\n    i0.ɵɵtext(1, \"\\u00A0\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GamesComponent_div_7_td_4_mat_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"keyboard_arrow_up\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GamesComponent_div_7_td_4_mat_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-icon\");\n    i0.ɵɵtext(1, \"keyboard_arrow_down\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GamesComponent_div_7_td_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 16)(1, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function GamesComponent_div_7_td_4_Template_button_click_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r20);\n      const game_r16 = restoredCtx.$implicit;\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      ctx_r19.selectedGame = ctx_r19.selectedGame === game_r16 ? null : game_r16;\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵtemplate(2, GamesComponent_div_7_td_4_mat_icon_2_Template, 2, 0, \"mat-icon\", 3);\n    i0.ɵɵtemplate(3, GamesComponent_div_7_td_4_mat_icon_3_Template, 2, 0, \"mat-icon\", 3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const game_r16 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.selectedGame === game_r16);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.selectedGame !== game_r16);\n  }\n}\nfunction GamesComponent_div_7_td_6_img_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 24);\n  }\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext(3);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r22.selectedGame.imageURL, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", ctx_r22.selectedGame.title);\n  }\n}\nfunction GamesComponent_div_7_td_6_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function GamesComponent_div_7_td_6_button_7_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r24.addToUser(ctx_r24.selectedGame));\n    });\n    i0.ɵɵtext(1, \" Add \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction GamesComponent_div_7_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 16)(1, \"div\", 19)(2, \"div\", 20);\n    i0.ɵɵtemplate(3, GamesComponent_div_7_td_6_img_3_Template, 1, 2, \"img\", 21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 22);\n    i0.ɵɵtext(5);\n    i0.ɵɵelement(6, \"br\");\n    i0.ɵɵtemplate(7, GamesComponent_div_7_td_6_button_7_Template, 2, 0, \"button\", 23);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const game_r21 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"colspan\", ctx_r6.columnsToDisplayWithExpand.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"@detailExpand\", game_r21 == ctx_r6.selectedGame ? \"expanded\" : \"collapsed\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.selectedGame !== null);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", game_r21.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.selectedGame);\n  }\n}\nfunction GamesComponent_div_7_tr_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 26);\n  }\n}\nfunction GamesComponent_div_7_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 27);\n    i0.ɵɵlistener(\"click\", function GamesComponent_div_7_tr_8_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r28);\n      const game_r26 = restoredCtx.$implicit;\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.selectedGame = ctx_r27.selectedGame === game_r26 ? null : game_r26);\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const game_r26 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"example-expanded-row\", ctx_r8.selectedGame === game_r26);\n  }\n}\nfunction GamesComponent_div_7_tr_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 28);\n  }\n}\nconst _c0 = function () {\n  return [\"expandedDetail\"];\n};\nfunction GamesComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, GamesComponent_div_7_ng_container_1_Template, 3, 1, \"ng-container\", 5);\n    i0.ɵɵelementContainerStart(2, 6);\n    i0.ɵɵtemplate(3, GamesComponent_div_7_th_3_Template, 2, 0, \"th\", 7);\n    i0.ɵɵtemplate(4, GamesComponent_div_7_td_4_Template, 4, 2, \"td\", 8);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵelementContainerStart(5, 9);\n    i0.ɵɵtemplate(6, GamesComponent_div_7_td_6_Template, 8, 5, \"td\", 8);\n    i0.ɵɵelementContainerEnd();\n    i0.ɵɵtemplate(7, GamesComponent_div_7_tr_7_Template, 1, 0, \"tr\", 10);\n    i0.ɵɵtemplate(8, GamesComponent_div_7_tr_8_Template, 1, 2, \"tr\", 11);\n    i0.ɵɵtemplate(9, GamesComponent_div_7_tr_9_Template, 1, 0, \"tr\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.columnsToDisplay);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"matHeaderRowDef\", ctx_r2.columnsToDisplayWithExpand);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", ctx_r2.columnsToDisplayWithExpand);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matRowDefColumns\", i0.ɵɵpureFunction0(4, _c0));\n  }\n}\nexport let GamesComponent = /*#__PURE__*/(() => {\n  class GamesComponent {\n    constructor(gameService, userService) {\n      this.gameService = gameService;\n      this.userService = userService;\n      this.columnsToDisplay = ['title', 'dev', 'publisher', 'id'];\n      this.columnsToDisplayWithExpand = [...this.columnsToDisplay, 'expand'];\n      this.loading = false;\n    }\n    ngOnInit() {\n      this.user = JSON.parse(localStorage.getItem(\"user\") || '{}');\n    }\n    addToUser(game) {\n      if (this.user != undefined) {\n        this.userService.addGame(this.user, game).subscribe(newUser => {\n          this.user = newUser;\n          console.log(this.user.games);\n        });\n      }\n    }\n    searchByTitle(title) {\n      this.loading = true;\n      this.gameService.searchGame(title).subscribe(returnedGames => {\n        this.loading = false;\n        this.selectedGame = null;\n        this.games = returnedGames;\n      });\n    }\n    static #_ = this.ɵfac = function GamesComponent_Factory(t) {\n      return new (t || GamesComponent)(i0.ɵɵdirectiveInject(i1.GameService), i0.ɵɵdirectiveInject(i2.UserService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: GamesComponent,\n      selectors: [[\"app-games\"]],\n      decls: 8,\n      vars: 3,\n      consts: [[\"type\", \"text\", \"placeholder\", \"Search for Title\"], [\"title\", \"\"], [\"type\", \"button\", 1, \"primary\", 3, \"click\"], [4, \"ngIf\"], [\"mat-table\", \"\", \"multiTemplateDataRows\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [3, \"matColumnDef\", 4, \"ngFor\", \"ngForOf\"], [\"matColumnDef\", \"expand\"], [\"mat-header-cell\", \"\", \"aria-label\", \"row actions\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"expandedDetail\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", \"class\", \"example-game-row\", 3, \"example-expanded-row\", \"click\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-row\", \"\", \"class\", \"example-detail-row\", 4, \"matRowDef\", \"matRowDefColumns\"], [3, \"matColumnDef\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\", \"aria-label\", \"row actions\"], [\"mat-icon-button\", \"\", \"aria-label\", \"expand row\", 3, \"click\"], [1, \"example-game-detail\"], [1, \"example-element-diagram\"], [\"id\", \"thumbnailImage\", 3, \"src\", \"alt\", 4, \"ngIf\"], [1, \"example-game-description\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", \"type\", \"button\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"thumbnailImage\", 3, \"src\", \"alt\"], [\"mat-flat-button\", \"\", \"color\", \"primary\", \"type\", \"button\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\", 1, \"example-game-row\", 3, \"click\"], [\"mat-row\", \"\", 1, \"example-detail-row\"]],\n      template: function GamesComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r30 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelement(0, \"input\", 0, 1)(2, \"br\");\n          i0.ɵɵelementStart(3, \"button\", 2);\n          i0.ɵɵlistener(\"click\", function GamesComponent_Template_button_click_3_listener() {\n            i0.ɵɵrestoreView(_r30);\n            const _r0 = i0.ɵɵreference(1);\n            return i0.ɵɵresetView(ctx.searchByTitle(_r0.value));\n          });\n          i0.ɵɵtext(4, \" Search\\n\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(5, GamesComponent_h5_5_Template, 2, 0, \"h5\", 3);\n          i0.ɵɵelementStart(6, \"table\", 4);\n          i0.ɵɵtemplate(7, GamesComponent_div_7_Template, 10, 5, \"div\", 3);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngIf\", ctx.loading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"dataSource\", ctx.games);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i4.MatButton, i4.MatIconButton, i5.MatTable, i5.MatHeaderCellDef, i5.MatHeaderRowDef, i5.MatColumnDef, i5.MatCellDef, i5.MatRowDef, i5.MatHeaderCell, i5.MatCell, i5.MatHeaderRow, i5.MatRow, i6.MatIcon],\n      styles: [\"table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{width:20%;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;object-fit:contain}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px;float:none}#thumbnail_image[_ngcontent-%COMP%]{object-fit:scale-down;float:left}mat-table[_ngcontent-%COMP%]{width:100%}mat-row.hidden-detail[_ngcontent-%COMP%]{height:0;min-height:initial}mat-row.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}mat-row.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%], .example-element-row[_ngcontent-%COMP%]   mat-cell[_ngcontent-%COMP%]{border-bottom-width:0}\"],\n      data: {\n        animation: [trigger('detailExpand', [state('collapsed,void', style({\n          height: '0px',\n          minHeight: '0'\n        })), state('expanded', style({\n          height: '*'\n        })), transition('expanded <=> collapsed', animate('235ms cubic-bezier(0.4, 0.0, 0.2, 1)'))])]\n      }\n    });\n  }\n  return GamesComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}